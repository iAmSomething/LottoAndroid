# 📱 안드로이드 앱 기획서: 매주로또 (가칭)

## 1. 앱 개요
* **타겟 유저:** 매주 정기적으로 로또 복권을 구매하는 사람
* **핵심 가치:** 간편한 번호 생성 및 관리, 잊지 않도록 돕는 알림, 빠른 당첨 확인 (위젯)
* **주요 플랫폼:** Android (안드로이드)

---

## 2. 핵심 기능 정의 및 고도화

### 2.1. 스마트 번호 생성 및 관리 (수동/자동/반자동 지원)
* **기본 동작:** 화면 진입 시 1~45 사이의 숫자 6개가 랜덤으로 5게임(1세트) 생성되어 있음.
* **리셋 기능:** '전체 랜덤 재생성' 버튼 클릭 시, 사용자가 고정한 번호를 제외하고 모두 새로운 랜덤 숫자로 변경됨.
* **사용자 입력 (수동/반자동):**
  * 사용자가 직접 숫자를 1개 이상 선택해 입력할 수 있음. 
  * 입력된 숫자는 '고정수(잠금)' 처리되어 리셋 버튼을 눌러도 변경되지 않음.
  * 고정된 숫자는 사용자가 직접 터치하여 해제(지우기)하거나 수정할 수 있음.
* **저장 기능:** 마음에 드는 조합은 '내 번호함'에 별도로 저장 가능.



### 2.2. 로또 구매 내역 및 번호 저장 (회차별 그룹화)
* **데이터 구조:** `회차 번호`를 기준으로 여러 게임(A~E)의 번호를 그룹화하여 저장.
* **입력 방식:**
  1. **QR 코드 스캔 (권장 및 핵심):** 동행복권 용지 우측 상단의 QR코드를 카메라로 스캔. (QR 코드 URL 내에 회차와 구매한 번호 정보가 모두 포함되어 있어 파싱이 매우 쉬움).
  2. **직접 입력:** 앱에서 생성한 번호를 이번 주 구매 번호로 바로 등록.
* **상태 표시:** '당첨 대기중', '당첨', '낙첨' 상태를 시각적으로 분리하여 표시.

### 2.3. 맞춤형 푸시 알림 (구매 독려 및 당첨 확인)
* **구매 알림:** 매주 토요일 오후 3시 (기본값).
  * *고도화:* 사용자가 자신의 구매 패턴에 맞춰 요일과 시간을 커스텀할 수 있도록 설정 제공 (예: 금요일 퇴근 시간).
* **당첨 결과 알림:** 매주 토요일 오후 9시경 (로또 추첨 직후), 이번 주에 저장된 번호가 있다면 "이번 주 로또 결과를 확인해보세요!" 알림 발송.
* *기술 참고:* 안드로이드 `WorkManager` 또는 `AlarmManager` 사용.

### 2.4. 당첨 정보 자동 연동 및 결과 확인
* **API 연동:** 동행복권 오픈 API를 활용하여 매주 토요일 최신 당첨 번호 자동 Fetch.
* **자동 채점 로직:** 저장된 '내 구매 번호'와 '실제 당첨 번호'를 비교하여 1~5등 및 낙첨 결과를 화면에 직관적으로 표시 (당첨된 숫자는 색상 하이라이트).
* **통계 (추가 기획):** 누적 구매 금액 대비 당첨 금액, 가장 많이 나온 숫자 등 간단한 재미용 통계 제공.

---

## 3. 핵심 UX: 위젯 (Widget) 기획
위젯은 이 앱의 리텐션(재방문율)을 높일 가장 중요한 요소입니다. 목적에 따라 두 가지 타입을 제공합니다.



### 3.1. [타입 A] '이번 주 내 번호' 위젯 (크기: 4x2 또는 2x2)
* **목적:** 복권방에 가서 앱을 켤 필요 없이 홈 화면에서 바로 번호를 보고 OMR 카드에 마킹.
* **표시 내용:**
  * 이번 주(예: 1100회차) 구매 예정이거나 저장해둔 번호 리스트.
  * 'QR 스캔하기' 퀵 버튼 (누르면 앱의 카메라 화면으로 즉시 이동).

### 3.2. [타입 B] '당첨 결과 요약' 위젯 (크기: 4x1)
* **목적:** 홈 화면에서 지난주 당첨 번호와 내 결과를 한눈에 확인.
* **표시 내용:**
  * 최신 회차 당첨 번호 6개 + 보너스 번호.
  * 내 당첨 결과 요약 (예: "5등 1개 당첨!" 또는 "아쉽지만 다음 기회에").

---

## 4. 개발 스택 및 기술적 고려사항
* **언어:** Kotlin
* **UI 프레임워크:** Jetpack Compose (최신 안드로이드 UI 트렌드, 리스트와 위젯(Glance) 만들기에 매우 적합)
* **로컬 DB:** Room Database (회차 정보, 구매 내역, 저장한 번호 등은 기기 내부에 저장하여 서버 비용 제로화)
* **QR 스캐너:** ML Kit Barcode Scanning API (구글 제공, 빠르고 오프라인에서도 작동)
* **위젯:** Jetpack Glance (Compose 기반으로 위젯을 쉽게 제작 가능)